<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Nucleon::Environment - nucleon 0.2.3</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/core/environment.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="Core.html">Nucleon::Core</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-active_plugins">#active_plugins</a>
    
    <li><a href="#method-i-class_const">#class_const</a>
    
    <li><a href="#method-i-class_name">#class_name</a>
    
    <li><a href="#method-i-create_plugin">#create_plugin</a>
    
    <li><a href="#method-i-define_plugin">#define_plugin</a>
    
    <li><a href="#method-i-define_plugin_type">#define_plugin_type</a>
    
    <li><a href="#method-i-define_plugin_types">#define_plugin_types</a>
    
    <li><a href="#method-i-get_plugin">#get_plugin</a>
    
    <li><a href="#method-i-loaded_plugin">#loaded_plugin</a>
    
    <li><a href="#method-i-loaded_plugins">#loaded_plugins</a>
    
    <li><a href="#method-i-namespaces">#namespaces</a>
    
    <li><a href="#method-i-parse_plugin_info">#parse_plugin_info</a>
    
    <li><a href="#method-i-plugin_class">#plugin_class</a>
    
    <li><a href="#method-i-plugin_has_provider-3F">#plugin_has_provider?</a>
    
    <li><a href="#method-i-plugin_has_type-3F">#plugin_has_type?</a>
    
    <li><a href="#method-i-plugin_type_default">#plugin_type_default</a>
    
    <li><a href="#method-i-plugin_type_defined-3F">#plugin_type_defined?</a>
    
    <li><a href="#method-i-plugin_types">#plugin_types</a>
    
    <li><a href="#method-i-remove_plugin">#remove_plugin</a>
    
    <li><a href="#method-i-sanitize_class">#sanitize_class</a>
    
    <li><a href="#method-i-sanitize_id">#sanitize_id</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../ARCHITECTURE_rdoc.html">ARCHITECTURE</a>
  
    <li class="file"><a href="../README_rdoc.html">README</a>
  
    <li class="file"><a href="../TODO_rdoc.html">TODO</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Nucleon.html">Nucleon</a>
  
    <li><a href="../Nucleon/Action.html">Nucleon::Action</a>
  
    <li><a href="../Nucleon/Action/Extract.html">Nucleon::Action::Extract</a>
  
    <li><a href="../Nucleon/Action/Project.html">Nucleon::Action::Project</a>
  
    <li><a href="../Nucleon/Action/Project/Add.html">Nucleon::Action::Project::Add</a>
  
    <li><a href="../Nucleon/Action/Project/Create.html">Nucleon::Action::Project::Create</a>
  
    <li><a href="../Nucleon/Action/Project/Remove.html">Nucleon::Action::Project::Remove</a>
  
    <li><a href="../Nucleon/Action/Project/Save.html">Nucleon::Action::Project::Save</a>
  
    <li><a href="../Nucleon/Action/Project/Update.html">Nucleon::Action::Project::Update</a>
  
    <li><a href="../Nucleon/Codes.html">Nucleon::Codes</a>
  
    <li><a href="../Nucleon/Command.html">Nucleon::Command</a>
  
    <li><a href="../Nucleon/Command/Bash.html">Nucleon::Command::Bash</a>
  
    <li><a href="../Nucleon/Config.html">Nucleon::Config</a>
  
    <li><a href="../Nucleon/Config/Collection.html">Nucleon::Config::Collection</a>
  
    <li><a href="../Nucleon/Config/Options.html">Nucleon::Config::Options</a>
  
    <li><a href="../Nucleon/Core.html">Nucleon::Core</a>
  
    <li><a href="../Nucleon/Environment.html">Nucleon::Environment</a>
  
    <li><a href="../Nucleon/Errors.html">Nucleon::Errors</a>
  
    <li><a href="../Nucleon/Errors/BatchError.html">Nucleon::Errors::BatchError</a>
  
    <li><a href="../Nucleon/Errors/NucleonError.html">Nucleon::Errors::NucleonError</a>
  
    <li><a href="../Nucleon/Errors/SSHUnavailable.html">Nucleon::Errors::SSHUnavailable</a>
  
    <li><a href="../Nucleon/Event.html">Nucleon::Event</a>
  
    <li><a href="../Nucleon/Event/Regex.html">Nucleon::Event::Regex</a>
  
    <li><a href="../Nucleon/Extension.html">Nucleon::Extension</a>
  
    <li><a href="../Nucleon/Extension/Project.html">Nucleon::Extension::Project</a>
  
    <li><a href="../Nucleon/Facade.html">Nucleon::Facade</a>
  
    <li><a href="../Nucleon/Gems.html">Nucleon::Gems</a>
  
    <li><a href="../Nucleon/Manager.html">Nucleon::Manager</a>
  
    <li><a href="../Nucleon/Mixin.html">Nucleon::Mixin</a>
  
    <li><a href="../Nucleon/Mixin/Action.html">Nucleon::Mixin::Action</a>
  
    <li><a href="../Nucleon/Mixin/Action/Commit.html">Nucleon::Mixin::Action::Commit</a>
  
    <li><a href="../Nucleon/Mixin/Action/Project.html">Nucleon::Mixin::Action::Project</a>
  
    <li><a href="../Nucleon/Mixin/Action/Push.html">Nucleon::Mixin::Action::Push</a>
  
    <li><a href="../Nucleon/Mixin/Action/Registration.html">Nucleon::Mixin::Action::Registration</a>
  
    <li><a href="../Nucleon/Mixin/Colors.html">Nucleon::Mixin::Colors</a>
  
    <li><a href="../Nucleon/Mixin/ConfigCollection.html">Nucleon::Mixin::ConfigCollection</a>
  
    <li><a href="../Nucleon/Mixin/ConfigOptions.html">Nucleon::Mixin::ConfigOptions</a>
  
    <li><a href="../Nucleon/Mixin/Macro.html">Nucleon::Mixin::Macro</a>
  
    <li><a href="../Nucleon/Mixin/Macro/ObjectInterface.html">Nucleon::Mixin::Macro::ObjectInterface</a>
  
    <li><a href="../Nucleon/Mixin/Macro/PluginInterface.html">Nucleon::Mixin::Macro::PluginInterface</a>
  
    <li><a href="../Nucleon/Mixin/Settings.html">Nucleon::Mixin::Settings</a>
  
    <li><a href="../Nucleon/Mixin/SubConfig.html">Nucleon::Mixin::SubConfig</a>
  
    <li><a href="../Nucleon/Parallel.html">Nucleon::Parallel</a>
  
    <li><a href="../Nucleon/Parallel/ClassMethods.html">Nucleon::Parallel::ClassMethods</a>
  
    <li><a href="../Nucleon/Parallel/InstanceMethods.html">Nucleon::Parallel::InstanceMethods</a>
  
    <li><a href="../Nucleon/Plugin.html">Nucleon::Plugin</a>
  
    <li><a href="../Nucleon/Plugin/Action.html">Nucleon::Plugin::Action</a>
  
    <li><a href="../Nucleon/Plugin/Action/Option.html">Nucleon::Plugin::Action::Option</a>
  
    <li><a href="../Nucleon/Plugin/Base.html">Nucleon::Plugin::Base</a>
  
    <li><a href="../Nucleon/Plugin/Command.html">Nucleon::Plugin::Command</a>
  
    <li><a href="../Nucleon/Plugin/Event.html">Nucleon::Plugin::Event</a>
  
    <li><a href="../Nucleon/Plugin/Extension.html">Nucleon::Plugin::Extension</a>
  
    <li><a href="../Nucleon/Plugin/Project.html">Nucleon::Plugin::Project</a>
  
    <li><a href="../Nucleon/Plugin/Template.html">Nucleon::Plugin::Template</a>
  
    <li><a href="../Nucleon/Plugin/Translator.html">Nucleon::Plugin::Translator</a>
  
    <li><a href="../Nucleon/Project.html">Nucleon::Project</a>
  
    <li><a href="../Nucleon/Project/Git.html">Nucleon::Project::Git</a>
  
    <li><a href="../Nucleon/Project/Github.html">Nucleon::Project::Github</a>
  
    <li><a href="../Nucleon/Template.html">Nucleon::Template</a>
  
    <li><a href="../Nucleon/Template/JSON.html">Nucleon::Template::JSON</a>
  
    <li><a href="../Nucleon/Template/Wrapper.html">Nucleon::Template::Wrapper</a>
  
    <li><a href="../Nucleon/Template/YAML.html">Nucleon::Template::YAML</a>
  
    <li><a href="../Nucleon/Translator.html">Nucleon::Translator</a>
  
    <li><a href="../Nucleon/Translator/JSON.html">Nucleon::Translator::JSON</a>
  
    <li><a href="../Nucleon/Translator/YAML.html">Nucleon::Translator::YAML</a>
  
    <li><a href="../Nucleon/Util.html">Nucleon::Util</a>
  
    <li><a href="../Nucleon/Util/CLI.html">Nucleon::Util::CLI</a>
  
    <li><a href="../Nucleon/Util/CLI/Parser.html">Nucleon::Util::CLI::Parser</a>
  
    <li><a href="../Nucleon/Util/Cache.html">Nucleon::Util::Cache</a>
  
    <li><a href="../Nucleon/Util/Console.html">Nucleon::Util::Console</a>
  
    <li><a href="../Nucleon/Util/Data.html">Nucleon::Util::Data</a>
  
    <li><a href="../Nucleon/Util/Disk.html">Nucleon::Util::Disk</a>
  
    <li><a href="../Nucleon/Util/Git.html">Nucleon::Util::Git</a>
  
    <li><a href="../Nucleon/Util/Liquid.html">Nucleon::Util::Liquid</a>
  
    <li><a href="../Nucleon/Util/Logger.html">Nucleon::Util::Logger</a>
  
    <li><a href="../Nucleon/Util/Package.html">Nucleon::Util::Package</a>
  
    <li><a href="../Nucleon/Util/SSH.html">Nucleon::Util::SSH</a>
  
    <li><a href="../Nucleon/Util/SSH/Keypair.html">Nucleon::Util::SSH::Keypair</a>
  
    <li><a href="../Nucleon/Util/Shell.html">Nucleon::Util::Shell</a>
  
    <li><a href="../Nucleon/Util/Shell/Result.html">Nucleon::Util::Shell::Result</a>
  
    <li><a href="../Hash.html">Hash</a>
  
    <li><a href="../Kernel.html">Kernel</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Nucleon::Environment</h1>

  <div id="description" class="description">
    
<h2 id="label-Plugin+environment"><a href="Plugin.html">Plugin</a> environment</h2>

<p>The <a href="Environment.html">Nucleon::Environment</a> class defines a
container for registered plugins and autoloaded providers.</p>

<p>One of the primary functions of the <a href="../Nucleon.html">Nucleon</a>
library is to provide a very flexible extensible architectural base for
Ruby applications needing ready made modularity.  To fulfill our
objectives, the <a href="../Nucleon.html">Nucleon</a> library defines
plugin managers managed as a global multition.</p>

<p>These managers should be able to fail gracefully and recover to the state
they left off if a plugin provider crashes.  To acomplish this, each
manager is a Celluloid actor that manages a globally defined environment
(also within a multition).  This environment contains all of the plugins
and providers that they manager has registered and loaded.</p>

<p>Three collections are managed:</p>
<ol><li>
<p>Defined plugin types</p>

<p>The environment maintains a collection of registered plugin types with a
default provider.  Default providers can easily be changed in runtime as
needs change.</p>
</li><li>
<p><a href="Plugin.html">Plugin</a> load info</p>

<p>Whenever a plugin is defined and initialized by the manager a specification
is created and maintained that lets the manager know details about the
plugin, such as where the base plugin resides, namespace, type, etcâ€¦</p>
</li><li>
<p>Active plugins</p>

<p>The environment maintains a registry of all of the plugin instances across
the application.  These active plugins are accessed by the manager, usually
through the facade.  When we work with plugins in the application, we are
usually working with these instances.</p>
</li></ol>

<p>See also:</p>
<ul><li>
<p><a href="Manager.html">Nucleon::Manager</a></p>
</li></ul>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="new-doc">
            
            <p>Initialize a new <a href="../Nucleon.html">Nucleon</a> environment</p>

<p>IMORTANT:  The environment constructor should accept no parameters!</p>
<ul><li>
<p><strong>Parameters</strong></p>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>Void
<dd>
<p>This method does not return a value</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Manager.html">Nucleon::Manager</a></p>
</li></ul>
            
          </div><!-- new-doc -->

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>
  <span class="ruby-keyword">super</span>({
    <span class="ruby-value">:plugin_types</span> =<span class="ruby-operator">&gt;</span> {},
    <span class="ruby-value">:load_info</span>    =<span class="ruby-operator">&gt;</span> {},
    <span class="ruby-value">:active_info</span>  =<span class="ruby-operator">&gt;</span> {}
  }, {}, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-active_plugins" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">active_plugins</span><span
            class="method-args">(namespace = nil, plugin_type = nil, provider = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="active_plugins-doc">
            
            <p>Return active plugins for namespaces, plugin types, providers if specified</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace to return plugin instance</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name to
return plugin instance</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, String, Symbol
<dd>
<p><strong>provider</strong>  <a href="Plugin.html">Plugin</a> provider to
return plugin instance</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|Symbol|Symbol|Symbol|Nucleon::Plugin::Base&gt;
<dd>
<p>Returns all plugin instances if no parameters given</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|Symbol|Symbol|Nucleon::Plugin::Base&gt;
<dd>
<p>Returns namespace plugin instances if only namespace given</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|Symbol|Nucleon::Plugin::Base&gt;
<dd>
<p>Returns plugin type instances if namespace and plugin type given</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|Nucleon::Plugin::Base&gt;
<dd>
<p>Returns provider instances if namespace, plugin type, and provider given</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- active_plugins-doc -->

          
          <div class="method-source-code" id="active_plugins-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 501</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">active_plugins</span>(<span class="ruby-identifier">namespace</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">plugin_type</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">provider</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">active_info</span> = <span class="ruby-identifier">get_hash</span>(<span class="ruby-value">:active_info</span>)

  <span class="ruby-identifier">namespace</span>   = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span>
  <span class="ruby-identifier">plugin_type</span> = <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">plugin_type</span>
  <span class="ruby-identifier">provider</span>    = <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">provider</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">provider</span>
  <span class="ruby-identifier">results</span>     = {}

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">active_info</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">namespace</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">plugin_type</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">active_info</span>[<span class="ruby-identifier">namespace</span>].<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">plugin_type</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">provider</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">active_info</span>[<span class="ruby-identifier">namespace</span>][<span class="ruby-identifier">plugin_type</span>].<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">active_info</span>[<span class="ruby-identifier">namespace</span>][<span class="ruby-identifier">plugin_type</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">instance_name</span>, <span class="ruby-identifier">plugin</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">plugin</span>                 = <span class="ruby-identifier">active_info</span>[<span class="ruby-identifier">namespace</span>][<span class="ruby-identifier">plugin_type</span>][<span class="ruby-identifier">instance_name</span>]
          <span class="ruby-identifier">results</span>[<span class="ruby-identifier">instance_name</span>] = <span class="ruby-identifier">plugin</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">plugin</span>.<span class="ruby-identifier">plugin_provider</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">provider</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">provider</span>
        <span class="ruby-identifier">results</span> = <span class="ruby-identifier">active_info</span>[<span class="ruby-identifier">namespace</span>][<span class="ruby-identifier">plugin_type</span>]
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">plugin_type</span>
      <span class="ruby-identifier">results</span> = <span class="ruby-identifier">active_info</span>[<span class="ruby-identifier">namespace</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">namespace</span>
    <span class="ruby-identifier">results</span> = <span class="ruby-identifier">active_info</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">results</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- active_plugins-source -->
          
        </div>

        

        
      </div><!-- active_plugins-method -->

    
      <div id="method-i-class_const" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">class_const</span><span
            class="method-args">(name, separator = '::')</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="class_const-doc">
            
            <p>Return a fully formed class name as a machine usable constant</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol, Array
<dd>
<p><strong>name</strong>  Class name components</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>separator</strong>  Class component separator (default
&#39;::&#39;)</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>Class Constant
<dd>
<p>Returns class constant for fully formed class name of given components</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-class_name">class_name</a></p>
</li></ul>
            
          </div><!-- class_const-doc -->

          
          <div class="method-source-code" id="class_const-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 580</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">class_const</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">separator</span> = <span class="ruby-string">&#39;::&#39;</span>)
  <span class="ruby-identifier">components</span> = <span class="ruby-identifier">class_name</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">separator</span>, <span class="ruby-constant">TRUE</span>)
  <span class="ruby-identifier">constant</span>   = <span class="ruby-constant">Object</span>

  <span class="ruby-identifier">components</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">component</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">constant</span> = <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">component</span>) <span class="ruby-operator">?</span>
                <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">component</span>) <span class="ruby-operator">:</span>
                <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">const_missing</span>(<span class="ruby-identifier">component</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">constant</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- class_const-source -->
          
        </div>

        

        
      </div><!-- class_const-method -->

    
      <div id="method-i-class_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">class_name</span><span
            class="method-args">(name, separator = '::', want_array = false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="class_name-doc">
            
            <p>Return a fully formed class name as a string</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol, Array
<dd>
<p><strong>name</strong>  Class name components</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>separator</strong>  Class component separator (default
&#39;::&#39;)</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>Boolean
<dd>
<p><strong>want_array</strong>  Whether or not to return array of final
components or string version</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String
<dd>
<p>Returns fully rendered class name as string unless want_array is true</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>Array
<dd>
<p>Returns array of final class components if want_array is true</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>
            
          </div><!-- class_name-doc -->

          
          <div class="method-source-code" id="class_name-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 544</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">class_name</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">separator</span> = <span class="ruby-string">&#39;::&#39;</span>, <span class="ruby-identifier">want_array</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">components</span> = []

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>
    <span class="ruby-identifier">components</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">separator</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
    <span class="ruby-identifier">components</span> = <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">components</span>.<span class="ruby-identifier">collect!</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">value</span>    = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>
    <span class="ruby-identifier">value</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">capitalize</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^[a-z]/</span>
    <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">want_array</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">components</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">components</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">separator</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- class_name-source -->
          
        </div>

        

        
      </div><!-- class_name-method -->

    
      <div id="method-i-create_plugin" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_plugin</span><span
            class="method-args">(namespace, plugin_type, provider, options = {}) { |type_info, options| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="create_plugin-doc">
            
            <p>Create a new plugin instance of a specified provider</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name of
provider</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>provider</strong>  <a href="Plugin.html">Plugin</a> provider to
return load information</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt><a href="../Hash.html">Hash</a>
<dd>
<p><strong>options</strong>  Create options (plugin initialization
configurations)</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, <a href="Plugin/Base.html">Nucleon::Plugin::Base</a>
<dd>
<p>Returns plugin instance (inherited from <a
href="Plugin/Base.html">Nucleon::Plugin::Base</a>)</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li><li>
<p><strong>Yields</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|ANY&gt;
<dd>
<p><strong>type_info</strong>  Provider load information if it has been loaded</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt><a href="../Hash.html">Hash</a>
<dd>
<p><strong>options</strong>  Create options (plugin initialization
configurations)</p>
</dd></dl>
</li></ul>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Plugin/Base.html">Nucleon::Plugin::Base</a></p>
</li><li>
<p><a href="Config.html#method-i-get">Nucleon::Config#get</a></p>
</li><li>
<p><a href="Config.html#method-i-set">Nucleon::Config#set</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li><li>
<p><a
href="Environment.html#method-i-plugin_type_defined-3F">plugin_type_defined?</a></p>
</li><li>
<p><a href="Environment.html#method-i-loaded_plugin">loaded_plugin</a></p>
</li><li>
<p><a href="Config.html">Nucleon::Config</a></p>
</li><li>
<p><a href="Config.html#method-c-array">Nucleon::Config.array</a></p>
</li><li>
<p><a href="Util/Data.html#method-c-subset">Nucleon::Util::Data.subset</a></p>
</li><li>
<p><a href="Facade.html#method-i-sha1">Nucleon::Facade#sha1</a></p>
</li></ul>
            
          </div><!-- create_plugin-doc -->

          
          <div class="method-source-code" id="create_plugin-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 389</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_plugin</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">provider</span>, <span class="ruby-identifier">options</span> = {}, &amp;<span class="ruby-identifier">code</span>) <span class="ruby-comment"># :yields: type_info, options</span>
  <span class="ruby-identifier">namespace</span>   = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">to_sym</span>
  <span class="ruby-identifier">plugin_type</span> = <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>)
  <span class="ruby-identifier">provider</span>    = <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">provider</span>)
  <span class="ruby-identifier">plugin</span>      = <span class="ruby-keyword">nil</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">plugin_type_defined?</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">plugin</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type_info</span> = <span class="ruby-identifier">loaded_plugin</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">provider</span>)
    <span class="ruby-identifier">ids</span>             = <span class="ruby-identifier">array</span>(<span class="ruby-identifier">type_info</span>[<span class="ruby-value">:class</span>].<span class="ruby-identifier">register_ids</span>).<span class="ruby-identifier">flatten</span>
    <span class="ruby-identifier">instance_config</span> = <span class="ruby-constant">Config</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-identifier">ensure_new</span>      = <span class="ruby-identifier">instance_config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:new</span>, <span class="ruby-keyword">false</span>)

    <span class="ruby-identifier">instance_options</span> = <span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">Data</span>.<span class="ruby-identifier">subset</span>(<span class="ruby-identifier">instance_config</span>.<span class="ruby-identifier">export</span>, <span class="ruby-identifier">ids</span>, <span class="ruby-keyword">true</span>)
    <span class="ruby-identifier">instance_name</span>    = <span class="ruby-node">&quot;#{provider}_&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">Nucleon</span>.<span class="ruby-identifier">sha1</span>(<span class="ruby-identifier">instance_options</span>)
    <span class="ruby-identifier">plugin</span>           = <span class="ruby-identifier">get</span>([ <span class="ruby-value">:active_info</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">instance_name</span> ])

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ensure_new</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span> ( <span class="ruby-identifier">instance_name</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">plugin</span> )
      <span class="ruby-identifier">type_info</span>[<span class="ruby-value">:instance_name</span>] = <span class="ruby-identifier">instance_name</span>

      <span class="ruby-identifier">options</span> = <span class="ruby-identifier">code</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">type_info</span>, <span class="ruby-identifier">options</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">code</span>
      <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:new</span>)

      <span class="ruby-identifier">plugin</span> = <span class="ruby-identifier">type_info</span>[<span class="ruby-value">:class</span>].<span class="ruby-identifier">new</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">provider</span>, <span class="ruby-identifier">options</span>)
      <span class="ruby-identifier">set</span>([ <span class="ruby-value">:active_info</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">instance_name</span> ], <span class="ruby-identifier">plugin</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">plugin</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_plugin-source -->
          
        </div>

        

        
      </div><!-- create_plugin-method -->

    
      <div id="method-i-define_plugin" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">define_plugin</span><span
            class="method-args">(namespace, plugin_type, base_path, file) { |data| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="define_plugin-doc">
            
            <p>Define a new plugin provider of a specified plugin type.</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name to
fetch default provider</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String
<dd>
<p><strong>base_path</strong>  Base load path of the plugin provider</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String
<dd>
<p><strong>file</strong>  File that contains the provider definition</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt><a href="Environment.html">Nucleon::Environment</a>
<dd>
<p>Returns reference to self for compound operations</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li><li>
<p><strong>Yields</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt><a href="../Hash.html">Hash</a>&lt;Symbol|ANY&gt;
<dd>
<p><strong>data</strong>  <a href="Plugin.html">Plugin</a> load information</p>
</dd></dl>
</li></ul>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li><li>
<p><a href="Config.html#method-i-set">Nucleon::Config#set</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li><li>
<p><a href="Environment.html#method-i-parse_plugin_info">parse_plugin_info</a></p>
</li></ul>
            
          </div><!-- define_plugin-doc -->

          
          <div class="method-source-code" id="define_plugin-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 222</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">define_plugin</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">base_path</span>, <span class="ruby-identifier">file</span>, &amp;<span class="ruby-identifier">code</span>) <span class="ruby-comment"># :yields: data</span>
  <span class="ruby-identifier">namespace</span>   = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">to_sym</span>
  <span class="ruby-identifier">plugin_type</span> = <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>)
  <span class="ruby-identifier">plugin_info</span> = <span class="ruby-identifier">parse_plugin_info</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">base_path</span>, <span class="ruby-identifier">file</span>)

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">get_hash</span>([ <span class="ruby-value">:load_info</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span> ]).<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">plugin_info</span>[<span class="ruby-value">:provider</span>])
    <span class="ruby-identifier">data</span> = {
      <span class="ruby-value">:namespace</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">namespace</span>,
      <span class="ruby-value">:type</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">plugin_type</span>,
      <span class="ruby-value">:base_path</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">base_path</span>,
      <span class="ruby-value">:file</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">file</span>,
      <span class="ruby-value">:provider</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">plugin_info</span>[<span class="ruby-value">:provider</span>],
      <span class="ruby-value">:directory</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">plugin_info</span>[<span class="ruby-value">:directory</span>],
      <span class="ruby-value">:class_components</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">plugin_info</span>[<span class="ruby-value">:class_components</span>]
    }
    <span class="ruby-identifier">code</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">data</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">code</span>

    <span class="ruby-identifier">set</span>([ <span class="ruby-value">:load_info</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">plugin_info</span>[<span class="ruby-value">:provider</span>] ], <span class="ruby-identifier">data</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- define_plugin-source -->
          
        </div>

        

        
      </div><!-- define_plugin-method -->

    
      <div id="method-i-define_plugin_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">define_plugin_type</span><span
            class="method-args">(namespace, plugin_type, default_provider = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="define_plugin_type-doc">
            
            <p>Define a new plugin type in a specified namespace.</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name
within namespace</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>default_provider</strong>  Default provider (defaults to none)</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt><a href="Environment.html">Nucleon::Environment</a>
<dd>
<p>Returns reference to self for compound operations</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-set">Nucleon::Config#set</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- define_plugin_type-doc -->

          
          <div class="method-source-code" id="define_plugin_type-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">define_plugin_type</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">default_provider</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">set</span>([ <span class="ruby-value">:plugin_types</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>) ], <span class="ruby-identifier">default_provider</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- define_plugin_type-source -->
          
        </div>

        

        
      </div><!-- define_plugin_type-method -->

    
      <div id="method-i-define_plugin_types" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">define_plugin_types</span><span
            class="method-args">(namespace, type_info)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="define_plugin_types-doc">
            
            <p>Define one or more new plugin types in a specified namespace.</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt><a href="../Hash.html">Hash</a>&lt;String, Symbol|String, Symbol&gt;
<dd>
<p><strong>type_info</strong>  <a href="Plugin.html">Plugin</a> type, default
provider pairs</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt><a href="Environment.html">Nucleon::Environment</a>
<dd>
<p>Returns reference to self for compound operations</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a
href="Environment.html#method-i-define_plugin_type">define_plugin_type</a></p>
</li></ul>
            
          </div><!-- define_plugin_types-doc -->

          
          <div class="method-source-code" id="define_plugin_types-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 143</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">define_plugin_types</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">type_info</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type_info</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">type_info</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">default_provider</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">define_plugin_type</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">default_provider</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- define_plugin_types-source -->
          
        </div>

        

        
      </div><!-- define_plugin_types-method -->

    
      <div id="method-i-get_plugin" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_plugin</span><span
            class="method-args">(namespace, plugin_type, plugin_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="get_plugin-doc">
            
            <p>Return a plugin instance by name if it exists</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains the plugin</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_name</strong>  <a href="Plugin.html">Plugin</a> name to
return</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, <a href="Plugin/Base.html">Nucleon::Plugin::Base</a>
<dd>
<p>Returns a plugin instance of name specified if it exists</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Plugin/Base.html">Nucleon::Plugin::Base</a></p>
</li><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- get_plugin-doc -->

          
          <div class="method-source-code" id="get_plugin-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_plugin</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">plugin_name</span>)
  <span class="ruby-identifier">namespace</span>   = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">to_sym</span>
  <span class="ruby-identifier">plugin_type</span> = <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>)

  <span class="ruby-identifier">get_hash</span>([ <span class="ruby-value">:active_info</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span> ]).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">instance_name</span>, <span class="ruby-identifier">plugin</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">plugin</span>.<span class="ruby-identifier">plugin_name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">plugin_name</span>.<span class="ruby-identifier">to_s</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">plugin</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_plugin-source -->
          
        </div>

        

        
      </div><!-- get_plugin-method -->

    
      <div id="method-i-loaded_plugin" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">loaded_plugin</span><span
            class="method-args">(namespace, plugin_type, provider)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="loaded_plugin-doc">
            
            <p>Return the load information for a specified plugin provider if it exists</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name of
provider</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>provider</strong>  <a href="Plugin.html">Plugin</a> provider to
return load information</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|ANY&gt;
<dd>
<p>Returns provider load information if provider exists, nil otherwise</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get">Nucleon::Config#get</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- loaded_plugin-doc -->

          
          <div class="method-source-code" id="loaded_plugin-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">loaded_plugin</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">provider</span>)
  <span class="ruby-identifier">get</span>([ <span class="ruby-value">:load_info</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>), <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">provider</span>) ], <span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- loaded_plugin-source -->
          
        </div>

        

        
      </div><!-- loaded_plugin-method -->

    
      <div id="method-i-loaded_plugins" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">loaded_plugins</span><span
            class="method-args">(namespace = nil, plugin_type = nil, provider = nil, default = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="loaded_plugins-doc">
            
            <p>Return the load information for namespaces, plugin types, providers if it
exists</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace to return load information</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name to
return load information</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, String, Symbol
<dd>
<p><strong>provider</strong>  <a href="Plugin.html">Plugin</a> provider to
return load information</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>ANY
<dd>
<p><strong>default</strong>  Default results if nothing found (empty hash by
default)</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|Symbol|Symbol|Symbol|ANY&gt;
<dd>
<p>Returns all load information if no parameters given</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|Symbol|Symbol|ANY&gt;
<dd>
<p>Returns namespace load information if only namespace given</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|Symbol|ANY&gt;
<dd>
<p>Returns plugin type load information if namespace and plugin type given</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>nil, <a href="../Hash.html">Hash</a>&lt;Symbol|ANY&gt;
<dd>
<p>Returns provider load information if namespace, plugin type, and provider
given</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- loaded_plugins-doc -->

          
          <div class="method-source-code" id="loaded_plugins-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">loaded_plugins</span>(<span class="ruby-identifier">namespace</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">plugin_type</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">provider</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">default</span> = {})
  <span class="ruby-identifier">load_info</span>   = <span class="ruby-identifier">get_hash</span>(<span class="ruby-value">:load_info</span>)

  <span class="ruby-identifier">namespace</span>   = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span>
  <span class="ruby-identifier">plugin_type</span> = <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">plugin_type</span>
  <span class="ruby-identifier">provider</span>    = <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">provider</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">provider</span>
  <span class="ruby-identifier">results</span>     = <span class="ruby-identifier">default</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">load_info</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">namespace</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">plugin_type</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">load_info</span>[<span class="ruby-identifier">namespace</span>].<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">plugin_type</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">provider</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">load_info</span>[<span class="ruby-identifier">namespace</span>][<span class="ruby-identifier">plugin_type</span>].<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">provider</span>)
        <span class="ruby-identifier">results</span> = <span class="ruby-identifier">load_info</span>[<span class="ruby-identifier">namespace</span>][<span class="ruby-identifier">plugin_type</span>][<span class="ruby-identifier">provider</span>]
      <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">provider</span>
        <span class="ruby-identifier">results</span> = <span class="ruby-identifier">load_info</span>[<span class="ruby-identifier">namespace</span>][<span class="ruby-identifier">plugin_type</span>]
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">plugin_type</span>
      <span class="ruby-identifier">results</span> = <span class="ruby-identifier">load_info</span>[<span class="ruby-identifier">namespace</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">namespace</span>
    <span class="ruby-identifier">results</span> = <span class="ruby-identifier">load_info</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">results</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- loaded_plugins-source -->
          
        </div>

        

        
      </div><!-- loaded_plugins-method -->

    
      <div id="method-i-namespaces" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">namespaces</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="namespaces-doc">
            
            <p>Return all of the defined namespaces in the plugin environment.</p>
<ul><li>
<p><strong>Parameters</strong></p>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>Array&lt;Symbol&gt;
<dd>
<p>Array of defined plugin namespaces</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li></ul>
            
          </div><!-- namespaces-doc -->

          
          <div class="method-source-code" id="namespaces-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">namespaces</span>
  <span class="ruby-identifier">get_hash</span>(<span class="ruby-value">:plugin_types</span>).<span class="ruby-identifier">keys</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- namespaces-source -->
          
        </div>

        

        
      </div><!-- namespaces-method -->

    
      <div id="method-i-plugin_class" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">plugin_class</span><span
            class="method-args">(namespace, plugin_type)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="plugin_class-doc">
            
            <p>Return a class constant representing a base plugin class generated from
namespace and plugin_type.</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  <a href="Plugin.html">Plugin</a> namespace to
constantize</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type to
constantize</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String
<dd>
<p>Returns a class constant representing the plugin namespace and type</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-class_const">class_const</a></p>
</li><li>
<p><a href="Environment.html#method-i-sanitize_class">sanitize_class</a></p>
</li></ul>
            
          </div><!-- plugin_class-doc -->

          
          <div class="method-source-code" id="plugin_class-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 637</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">plugin_class</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>)
  <span class="ruby-identifier">class_const</span>([ <span class="ruby-identifier">sanitize_class</span>(<span class="ruby-identifier">namespace</span>), <span class="ruby-value">:plugin</span>, <span class="ruby-identifier">sanitize_class</span>(<span class="ruby-identifier">plugin_type</span>) ])
<span class="ruby-keyword">end</span></pre>
          </div><!-- plugin_class-source -->
          
        </div>

        

        
      </div><!-- plugin_class-method -->

    
      <div id="method-i-plugin_has_provider-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">plugin_has_provider?</span><span
            class="method-args">(namespace, plugin_type, provider)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="plugin_has_provider-3F-doc">
            
            <p>Check if a specified plugin provider has been loaded</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name to
check</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>provider</strong>  <a href="Plugin.html">Plugin</a> provider name
to check</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>Boolean
<dd>
<p>Returns true if plugin provider has been loaded, false otherwise</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- plugin_has_provider-3F-doc -->

          
          <div class="method-source-code" id="plugin_has_provider-3F-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 351</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">plugin_has_provider?</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">provider</span>)
  <span class="ruby-identifier">get_hash</span>([ <span class="ruby-value">:load_info</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>) ]).<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">provider</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- plugin_has_provider-3F-source -->
          
        </div>

        

        
      </div><!-- plugin_has_provider-3F-method -->

    
      <div id="method-i-plugin_has_type-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">plugin_has_type?</span><span
            class="method-args">(namespace, plugin_type)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="plugin_has_type-3F-doc">
            
            <p>Check if a specified plugin type has been loaded</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name to
check</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>Boolean
<dd>
<p>Returns true if plugin type has been loaded, false otherwise</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- plugin_has_type-3F-doc -->

          
          <div class="method-source-code" id="plugin_has_type-3F-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 329</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">plugin_has_type?</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>)
  <span class="ruby-identifier">get_hash</span>([ <span class="ruby-value">:load_info</span>, <span class="ruby-identifier">namespace</span> ]).<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- plugin_has_type-3F-source -->
          
        </div>

        

        
      </div><!-- plugin_has_type-3F-method -->

    
      <div id="method-i-plugin_type_default" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">plugin_type_default</span><span
            class="method-args">(namespace, plugin_type)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="plugin_type_default-doc">
            
            <p>Return the default provider currently registered for a plugin type</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name to
fetch default provider</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, Symbol
<dd>
<p>Returns default provider if plugin type exists, nil otherwise</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get">Nucleon::Config#get</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- plugin_type_default-doc -->

          
          <div class="method-source-code" id="plugin_type_default-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">plugin_type_default</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>)
  <span class="ruby-identifier">get</span>([ <span class="ruby-value">:plugin_types</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>) ])
<span class="ruby-keyword">end</span></pre>
          </div><!-- plugin_type_default-source -->
          
        </div>

        

        
      </div><!-- plugin_type_default-method -->

    
      <div id="method-i-plugin_type_defined-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">plugin_type_defined?</span><span
            class="method-args">(namespace, plugin_type)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="plugin_type_defined-3F-doc">
            
            <p>Check if a specified plugin type has been defined</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name to
check within namespace</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>Boolean
<dd>
<p>Returns true if plugin type exists, false otherwise</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- plugin_type_defined-3F-doc -->

          
          <div class="method-source-code" id="plugin_type_defined-3F-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">plugin_type_defined?</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>)
  <span class="ruby-identifier">get_hash</span>([ <span class="ruby-value">:plugin_types</span>, <span class="ruby-identifier">namespace</span> ]).<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- plugin_type_defined-3F-source -->
          
        </div>

        

        
      </div><!-- plugin_type_defined-3F-method -->

    
      <div id="method-i-plugin_types" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">plugin_types</span><span
            class="method-args">(namespace)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="plugin_types-doc">
            
            <p>Return all of the defined plugin types in a plugin namespace.</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>Array&lt;Symbol&gt;
<dd>
<p>Array of defined plugin types</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Config.html#method-i-get_hash">Nucleon::Config#get_hash</a></p>
</li></ul>
            
          </div><!-- plugin_types-doc -->

          
          <div class="method-source-code" id="plugin_types-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">plugin_types</span>(<span class="ruby-identifier">namespace</span>)
  <span class="ruby-identifier">get_hash</span>([ <span class="ruby-value">:plugin_types</span>, <span class="ruby-identifier">namespace</span> ]).<span class="ruby-identifier">keys</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- plugin_types-source -->
          
        </div>

        

        
      </div><!-- plugin_types-method -->

    
      <div id="method-i-remove_plugin" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_plugin</span><span
            class="method-args">(namespace, plugin_type, instance_name) { |plugin| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="remove_plugin-doc">
            
            <p>Remove a plugin instance from the environment</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains the plugin</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>instance_name</strong>  <a href="Plugin.html">Plugin</a> instance
name to tremove</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>nil, <a href="Plugin/Base.html">Nucleon::Plugin::Base</a>
<dd>
<p>Returns the plugin instance that was removed from environment</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li><li>
<p><strong>Yields</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt><a href="Plugin/Base.html">Nucleon::Plugin::Base</a>
<dd>
<p><strong>plugin</strong>  <a href="Plugin.html">Plugin</a> object being
removed (cleanup)</p>
</dd></dl>
</li></ul>
</li></ul>

<p>See:</p>
<ul><li>
<p><a href="Plugin/Base.html">Nucleon::Plugin::Base</a></p>
</li><li>
<p><a href="Config.html#method-i-delete">Nucleon::Config#delete</a></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li></ul>
            
          </div><!-- remove_plugin-doc -->

          
          <div class="method-source-code" id="remove_plugin-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 474</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_plugin</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">instance_name</span>, &amp;<span class="ruby-identifier">code</span>) <span class="ruby-comment"># :yields: plugin</span>
  <span class="ruby-identifier">plugin</span> = <span class="ruby-identifier">delete</span>([ <span class="ruby-value">:active_info</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">plugin_type</span>), <span class="ruby-identifier">instance_name</span> ])
  <span class="ruby-identifier">code</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">plugin</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">code</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">plugin</span>
  <span class="ruby-identifier">plugin</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_plugin-source -->
          
        </div>

        

        
      </div><!-- remove_plugin-method -->

    
    </section><!-- public-instance-method-details -->
  
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Protected Instance Methods</h3>

    
      <div id="method-i-parse_plugin_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse_plugin_info</span><span
            class="method-args">(namespace, plugin_type, base_path, file)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="parse_plugin_info-doc">
            
            <p>Parse plugin information for a specified namespace and plugin type.</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>namespace</strong>  Namespace that contains plugin types</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>plugin_type</strong>  <a href="Plugin.html">Plugin</a> type name to
fetch default provider</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String
<dd>
<p><strong>base_path</strong>  Base load path of the plugin provider</p>
</dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>String
<dd>
<p><strong>file</strong>  File that contains the provider definition</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt><a href="../Hash.html">Hash</a>&lt;Symbol|ANY&gt;
<dd>
<p>Returns a hash of the parsed plugin information</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>

<p>See also:</p>
<ul><li>
<p><a href="Environment.html#method-i-sanitize_id">sanitize_id</a></p>
</li><li>
<p><a href="Environment.html#method-i-sanitize_class">sanitize_class</a></p>
</li></ul>
            
          </div><!-- parse_plugin_info-doc -->

          
          <div class="method-source-code" id="parse_plugin_info-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 658</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_plugin_info</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">plugin_type</span>, <span class="ruby-identifier">base_path</span>, <span class="ruby-identifier">file</span>)
  <span class="ruby-identifier">dir_components</span>   = <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">SEPARATOR</span>)
  <span class="ruby-identifier">file_components</span>  = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">SEPARATOR</span>)

  <span class="ruby-identifier">file_name</span>        = <span class="ruby-identifier">file_components</span>.<span class="ruby-identifier">pop</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/\.rb/</span>, <span class="ruby-string">&#39;&#39;</span>)
  <span class="ruby-identifier">directory</span>        = <span class="ruby-identifier">file_components</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">SEPARATOR</span>)

  <span class="ruby-identifier">file_class</span>       = <span class="ruby-identifier">sanitize_class</span>(<span class="ruby-identifier">file_name</span>)
  <span class="ruby-identifier">group_components</span> = <span class="ruby-identifier">directory</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-node">/^#{base_path}#{File::SEPARATOR}?/</span>, <span class="ruby-string">&#39;&#39;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">SEPARATOR</span>)

  <span class="ruby-identifier">class_components</span> = [ <span class="ruby-identifier">sanitize_class</span>(<span class="ruby-identifier">namespace</span>), <span class="ruby-identifier">sanitize_class</span>(<span class="ruby-identifier">plugin_type</span>) ]

  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">group_components</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">group_name</span>       = <span class="ruby-identifier">group_components</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">elem</span><span class="ruby-operator">|</span> <span class="ruby-identifier">elem</span>.<span class="ruby-identifier">downcase</span>  }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;_&#39;</span>)
    <span class="ruby-identifier">provider</span>         = [ <span class="ruby-identifier">group_name</span>, <span class="ruby-identifier">file_name</span> ].<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;_&#39;</span>)

    <span class="ruby-identifier">group_components</span> = <span class="ruby-identifier">group_components</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">elem</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sanitize_class</span>(<span class="ruby-identifier">elem</span>) }
    <span class="ruby-identifier">class_components</span> = [ <span class="ruby-identifier">class_components</span>, <span class="ruby-identifier">group_components</span>, <span class="ruby-identifier">file_class</span> ].<span class="ruby-identifier">flatten</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">provider</span>         = <span class="ruby-identifier">file_name</span>
    <span class="ruby-identifier">class_components</span> = [ <span class="ruby-identifier">class_components</span>, <span class="ruby-identifier">file_class</span> ].<span class="ruby-identifier">flatten</span>
  <span class="ruby-keyword">end</span>

  {
    <span class="ruby-value">:directory</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">directory</span>,
    <span class="ruby-value">:provider</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">provider</span>),
    <span class="ruby-value">:class_components</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">class_components</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div><!-- parse_plugin_info-source -->
          
        </div>

        

        
      </div><!-- parse_plugin_info-method -->

    
      <div id="method-i-sanitize_class" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sanitize_class</span><span
            class="method-args">(class_component)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="sanitize_class-doc">
            
            <p>Sanitize a class identifier for internal use.</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>class_component</strong>  Class identifier to sanitize</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String
<dd>
<p>Returns a sanitized string representing the given class component</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>
            
          </div><!-- sanitize_class-doc -->

          
          <div class="method-source-code" id="sanitize_class-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 617</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sanitize_class</span>(<span class="ruby-identifier">class_component</span>)
  <span class="ruby-identifier">class_component</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;_&#39;</span>).<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">elem</span><span class="ruby-operator">|</span> <span class="ruby-identifier">elem</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">capitalize</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elem</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>) }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- sanitize_class-source -->
          
        </div>

        

        
      </div><!-- sanitize_class-method -->

    
      <div id="method-i-sanitize_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sanitize_id</span><span
            class="method-args">(id_component)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          <div class="method-doc" id="sanitize_id-doc">
            
            <p>Sanitize an identifier for internal plugin environment use.</p>
<ul><li>
<p><strong>Parameters</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>String, Symbol
<dd>
<p><strong>id_component</strong>  Identifier to sanitize</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong>Returns</strong></p>
<ul><li><dl class="rdoc-list label-list"><dt>Symbol
<dd>
<p>Returns a sanitized symbol representing the given id component</p>
</dd></dl>
</li></ul>
</li><li>
<p><strong><a href="Errors.html">Errors</a></strong></p>
</li></ul>
            
          </div><!-- sanitize_id-doc -->

          
          <div class="method-source-code" id="sanitize_id-source">
            <pre><span class="ruby-comment"># File lib/core/environment.rb, line 602</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sanitize_id</span>(<span class="ruby-identifier">id_component</span>)
  <span class="ruby-identifier">id_component</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/([a-z0-9])(?:\-|\_)?([A-Z])/</span>, <span class="ruby-string">&#39;\1_\2&#39;</span>).<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_sym</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sanitize_id-source -->
          
        </div>

        

        
      </div><!-- sanitize_id-method -->

    
    </section><!-- protected-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

